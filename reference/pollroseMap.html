<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pollution roses on dynamic and static maps — pollroseMap • openairmaps</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pollution roses on dynamic and static maps — pollroseMap"><meta name="description" content="The pollroseMap() function creates a map using pollution roses as markers.
Any number of pollutants can be specified using the pollutant argument, and
multiple layers of markers can be created using type. By default, these
maps are dynamic and can be panned, zoomed, and otherwise interacted with.
Using the static argument allows for static images to be produced instead."><meta property="og:description" content="The pollroseMap() function creates a map using pollution roses as markers.
Any number of pollutants can be specified using the pollutant argument, and
multiple layers of markers can be created using type. By default, these
maps are dynamic and can be panned, zoomed, and otherwise interacted with.
Using the static argument allows for static images to be produced instead."><meta property="og:image" content="https://davidcarslaw.github.io/openairmaps/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">openairmaps</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/openairmaps.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bookdown.org/david_carslaw/openair/sections/maps/maps-overview.html">Book (External)</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/davidcarslaw/openairmaps/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Pollution roses on dynamic and static maps</h1>
      <small class="dont-index">Source: <a href="https://github.com/davidcarslaw/openairmaps/blob/v0.9.1/R/polar_pollroseMap.R" class="external-link"><code>R/polar_pollroseMap.R</code></a></small>
      <div class="d-none name"><code>pollroseMap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>pollroseMap()</code> function creates a map using pollution roses as markers.
Any number of pollutants can be specified using the <code>pollutant</code> argument, and
multiple layers of markers can be created using <code>type</code>. By default, these
maps are dynamic and can be panned, zoomed, and otherwise interacted with.
Using the <code>static</code> argument allows for static images to be produced instead.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pollroseMap</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  pollutant <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  statistic <span class="op">=</span> <span class="st">"prop.count"</span>,</span>
<span>  breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  latitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  longitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">4326</span>,</span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  popup <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  provider <span class="op">=</span> <span class="st">"OpenStreetMap"</span>,</span>
<span>  cols <span class="op">=</span> <span class="st">"turbo"</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  key <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  legend.position <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend.title.autotext <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  control.collapsed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  control.position <span class="op">=</span> <span class="st">"topright"</span>,</span>
<span>  control.autotext <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  d.icon <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  d.fig <span class="op">=</span> <span class="fl">3.5</span>,</span>
<span>  static <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  static.nrow <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  progress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  control <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p><em>Input data table with pollutant, wind, and geo-spatial
information.</em></p>
<p><strong>required</strong> | <em>scope:</em> dynamic &amp; static</p>
<p>A data frame. The data frame must contain the data to plot the directional
analysis marker, which includes wind speed (<code>ws</code>), wind direction (<code>wd</code>),
and the column representing the concentration of a pollutant. In addition,
<code>data</code> must include a decimal latitude and longitude (or X/Y coordinate
used in conjunction with <code>crs</code>).</p></dd>


<dt id="arg-pollutant">pollutant<a class="anchor" aria-label="anchor" href="#arg-pollutant"></a></dt>
<dd><p><em>Pollutant name(s).</em></p>
<p><strong>required</strong> | <em>scope:</em> dynamic &amp; static</p>
<p>The column name(s) of the pollutant(s) to plot. If multiple pollutants are
specified and a non-pairwise statistic is supplied, the <code>type</code> argument
will no longer be able to be used and:</p><ul><li><p><em>Dynamic</em>: The pollutants can be toggled between using a "layer control" menu.</p></li>
<li><p><em>Static:</em>: The pollutants will each appear in a different panel.</p></li>
</ul><p>Multiple <code>pollutants</code> prohibit the use of the <code>type</code> argument for
non-pairwise statistics.</p></dd>


<dt id="arg-statistic">statistic<a class="anchor" aria-label="anchor" href="#arg-statistic"></a></dt>
<dd><p><em>The statistic to be applied to each data bin in the plot</em></p>
<p><em>default:</em> <code>"prop.mean"</code> | <em>scope:</em> dynamic &amp; static</p>
<p>Options currently include <code>"prop.count"</code>, <code>"prop.mean"</code> and <code>"abs.count"</code>.
<code>"prop.count"</code> sizes bins according to the proportion of the frequency of
measurements.  Similarly, <code>"prop.mean"</code> sizes bins according to their
relative contribution to the mean. <code>"abs.count"</code> provides the absolute
count of measurements in each bin.</p></dd>


<dt id="arg-breaks">breaks<a class="anchor" aria-label="anchor" href="#arg-breaks"></a></dt>
<dd><p><em>Specifier for the number of breaks of the colour axis.</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> dynamic &amp; static</p>
<p>Most commonly, the number of break points. If not specified, each marker
will independently break its supplied data at approximately 6 sensible
break points. When <code>breaks</code> are specified, all markers will use the same
break points. Breaks can also be used to set specific break points. For
example, the argument <code>breaks = c(0, 1, 10, 100)</code> breaks the data into
segments &lt;1, 1-10, 10-100, &gt;100.</p></dd>


<dt id="arg-latitude-longitude">latitude, longitude<a class="anchor" aria-label="anchor" href="#arg-latitude-longitude"></a></dt>
<dd><p><em>The decimal latitude(Y)/longitude(X).</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> dynamic &amp; static</p>
<p>Column names representing the decimal latitude and longitude (or other Y/X
coordinate if using a different <code>crs</code>). If not provided, will be
automatically inferred from data by looking for a column named
"lat"/"latitude" or "lon"/"lng"/"long"/"longitude" (case-insensitively).</p></dd>


<dt id="arg-crs">crs<a class="anchor" aria-label="anchor" href="#arg-crs"></a></dt>
<dd><p><em>The coordinate reference system (CRS).</em></p>
<p><em>default:</em> <code>4326</code> | <em>scope:</em> dynamic &amp; static</p>
<p>The coordinate reference system (CRS) of the data, passed to
<code><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">sf::st_crs()</a></code>. By default this is <a href="https://epsg.io/4326" class="external-link">EPSG:4326</a>, the
CRS associated with the commonly used latitude and longitude coordinates.
Different coordinate systems can be specified using <code>crs</code> (e.g., <code>crs = 27700</code> for the <a href="https://epsg.io/27700" class="external-link">British National Grid</a>). Note that
non-lat/lng coordinate systems will be re-projected to EPSG:4326 for
plotting on the map.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p><em>A method to condition the <code>data</code> for separate plotting.</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> dynamic &amp; static</p>
<p>Used for splitting the input data into different groups, passed to the
<code>type</code> argument of <code><a href="https://davidcarslaw.github.io/openair/reference/cutData.html" class="external-link">openair::cutData()</a></code>. When <code>type</code> is specified:</p><ul><li><p><em>Dynamic</em>: The different data splits can be toggled between using a "layer control" menu.</p></li>
<li><p><em>Static:</em>: The data splits will each appear in a different panel.</p></li>
</ul><p><code>type</code> cannot be used if multiple <code>pollutant</code> columns have been provided.</p></dd>


<dt id="arg-popup">popup<a class="anchor" aria-label="anchor" href="#arg-popup"></a></dt>
<dd><p><em>Content for marker popups on dynamic maps.</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> dynamic</p>
<p>Columns to be used as the HTML content for marker popups on dynamic maps.
Popups may be useful to show information about the individual sites (e.g.,
site names, codes, types, etc.). If a vector of column names are provided
they are passed to <code><a href="buildPopup.html">buildPopup()</a></code> using its default values.</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p><em>Content for marker hover-over on dynamic maps.</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> dynamic</p>
<p>Column to be used as the HTML content for hover-over labels. Labels are
useful for the same reasons as popups, though are typically shorter.</p></dd>


<dt id="arg-provider">provider<a class="anchor" aria-label="anchor" href="#arg-provider"></a></dt>
<dd><p><em>The basemap(s) to be used.</em></p>
<p><em>default:</em> <code>"OpenStreetMap"</code> | <em>scope:</em> dynamic &amp; static</p>
<p>The base map(s) to be used beneath the polar markers. If not provided, will
default to <code>"OpenStreetMap"</code>/<code>"osm"</code> for both dynamic and static maps.</p><ul><li><p><em>Dynamic</em>: Any number of <a href="https://rstudio.github.io/leaflet/reference/providers.html" class="external-link">leaflet::providers</a>.
See <a href="http://leaflet-extras.github.io/leaflet-providers/preview/" class="external-link">http://leaflet-extras.github.io/leaflet-providers/preview/</a> for a list
of all base maps that can be used. If multiple base maps are provided, they
can be toggled between using a "layer control" interface. By default, the
interface will use the provider names as labels, but users can define their
own using a named vector (e.g., <code>c("Default" = "OpenStreetMap", "Satellite"   = "Esri.WorldImagery")</code>)</p></li>
<li><p><em>Static</em>: One of <code><a href="https://rdrr.io/pkg/rosm/man/deprecated.html" class="external-link">rosm::osm.types()</a></code>.</p></li>
</ul><p>There is some overlap in static and dynamic providers. For example,
<code>{ggspatial}</code> uses "osm" to specify "OpenStreetMap". When static providers
are provided to dynamic maps or vice versa, <code>{openairmaps}</code> will attempt to
substitute the correct provider string.</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p><em>Colours to use for plotting.</em></p>
<p><em>default:</em> <code>"turbo"</code> | <em>scope:</em> dynamic &amp; static</p>
<p>The colours used for plotting, passed to <code><a href="https://davidcarslaw.github.io/openair/reference/openColours.html" class="external-link">openair::openColours()</a></code>. The
default, <code>"turbo"</code>, is a rainbow palette with relatively perceptually
uniform colours. Read more about this palette at
<a href="https://research.google/blog/turbo-an-improved-rainbow-colormap-for-visualization/" class="external-link">https://research.google/blog/turbo-an-improved-rainbow-colormap-for-visualization/</a>.</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p><em>Transparency value for polar markers.</em></p>
<p><em>default:</em> <code>1</code> | <em>scope:</em> dynamic &amp; static</p>
<p>A value between 0 (fully transparent) and 1 (fully opaque).</p></dd>


<dt id="arg-key">key<a class="anchor" aria-label="anchor" href="#arg-key"></a></dt>
<dd><p><em>Draw individual marker legends?</em></p>
<p><em>default:</em> <code>FALSE</code> | <em>scope:</em> dynamic &amp; static</p>
<p>Draw a key for each individual marker? Potentially useful when <code>limits = "free"</code>, but of limited use otherwise.</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p><em>Draw a shared legend?</em></p>
<p><em>default:</em> <code>TRUE</code> | <em>scope:</em> dynamic &amp; static</p>
<p>When all markers share the same colour scale (e.g., when <code>limits != "free"</code>
in <code><a href="polarMap.html">polarMap()</a></code>), should a shared legend be created at the side of the map?</p></dd>


<dt id="arg-legend-position">legend.position<a class="anchor" aria-label="anchor" href="#arg-legend-position"></a></dt>
<dd><p><em>Position of the shared legend.</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> dynamic &amp; static</p>
<p>When <code>legend = TRUE</code>, where should the legend be placed?</p><ul><li><p><em>Dynamic</em>: One of "topright", "topright", "bottomleft" or "bottomright". Passed to the <code>position</code> argument of <code><a href="https://rstudio.github.io/leaflet/reference/addLegend.html" class="external-link">leaflet::addLegend()</a></code>.</p></li>
<li><p><em>Static:</em>: One of "top", "right", "bottom" or "left". Passed to the <code>legend.position</code> argument of <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">ggplot2::theme()</a></code>.</p></li>
</ul></dd>


<dt id="arg-legend-title">legend.title<a class="anchor" aria-label="anchor" href="#arg-legend-title"></a></dt>
<dd><p><em>Title of the legend.</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> dynamic &amp; static</p>
<p>By default, when <code>legend.title = NULL</code>, the function will attempt to
provide a sensible legend title. <code>legend.title</code> allows users to overwrite
this - for example, to include units or other contextual information. For
<em>dynamic</em> maps, users may wish to use HTML tags to format the title.</p></dd>


<dt id="arg-legend-title-autotext">legend.title.autotext<a class="anchor" aria-label="anchor" href="#arg-legend-title-autotext"></a></dt>
<dd><p><em>Automatically format the title of the legend?</em></p>
<p><em>default:</em> <code>TRUE</code> | <em>scope:</em> dynamic &amp; static</p>
<p>When <code>legend.title.autotext = TRUE</code>, <code>legend.title</code> will be first run
through <code><a href="quickTextHTML.html">quickTextHTML()</a></code> (<em>dynamic</em>) or <code><a href="https://davidcarslaw.github.io/openair/reference/quickText.html" class="external-link">openair::quickText()</a></code> (<em>static</em>).</p></dd>


<dt id="arg-control-collapsed">control.collapsed<a class="anchor" aria-label="anchor" href="#arg-control-collapsed"></a></dt>
<dd><p><em>Show the layer control as a collapsed?</em></p>
<p><em>default:</em> <code>FALSE</code> | <em>scope:</em> dynamic</p>
<p>For <em>dynamic</em> maps, should the "layer control" interface be collapsed? If
<code>TRUE</code>, users will have to hover over an icon to view the options.</p></dd>


<dt id="arg-control-position">control.position<a class="anchor" aria-label="anchor" href="#arg-control-position"></a></dt>
<dd><p><em>Position of the layer control menu</em></p>
<p><em>default:</em> <code>"topright"</code> | <em>scope:</em> dynamic</p>
<p>When <code>type != NULL</code>, or multiple pollutants are specified, where should the
"layer control" interface be placed? One of "topleft", "topright",
"bottomleft" or "bottomright". Passed to the <code>position</code> argument of
<code><a href="https://rstudio.github.io/leaflet/reference/addLayersControl.html" class="external-link">leaflet::addLayersControl()</a></code>.</p></dd>


<dt id="arg-control-autotext">control.autotext<a class="anchor" aria-label="anchor" href="#arg-control-autotext"></a></dt>
<dd><p><em>Automatically format the content of the layer
control menu?</em></p>
<p><em>default:</em> <code>TRUE</code> | <em>scope:</em> dynamic</p>
<p>When <code>control.autotext = TRUE</code>, the content of the "layer control"
interface will be first run through <code><a href="quickTextHTML.html">quickTextHTML()</a></code>.</p></dd>


<dt id="arg-d-icon">d.icon<a class="anchor" aria-label="anchor" href="#arg-d-icon"></a></dt>
<dd><p><em>The diameter of the plot on the map in pixels.</em></p>
<p><em>default:</em> <code>200</code> | <em>scope:</em> dynamic &amp; static</p>
<p>This will affect the size of the individual polar markers. Alternatively, a
vector in the form <code>c(width, height)</code> can be provided if a non-circular
marker is desired.</p></dd>


<dt id="arg-d-fig">d.fig<a class="anchor" aria-label="anchor" href="#arg-d-fig"></a></dt>
<dd><p><em>The diameter of the plots to be produced using <code>{openair}</code> in
inches.</em></p>
<p><em>default:</em> <code>3.5</code> | <em>scope:</em> dynamic &amp; static</p>
<p>This will affect the resolution of the markers on the map. Alternatively, a
vector in the form <code>c(width, height)</code> can be provided if a non-circular
marker is desired.</p></dd>


<dt id="arg-static">static<a class="anchor" aria-label="anchor" href="#arg-static"></a></dt>
<dd><p><em>Produce a static map?</em></p>
<p><em>default:</em> <code>FALSE</code></p>
<p>This controls whether a <em>dynamic</em> or <em>static</em> map is produced. The former
is the default and is broadly more useful, but the latter may be preferable
for DOCX or PDF outputs (e.g., academic papers).</p></dd>


<dt id="arg-static-nrow">static.nrow<a class="anchor" aria-label="anchor" href="#arg-static-nrow"></a></dt>
<dd><p><em>Number of rows in a static map.</em></p>
<p><em>default:</em> <code>NULL</code> | <em>scope:</em> static</p>
<p>Controls the number of rows of panels on a static map when multiple
<code>pollutant</code>s or <code>type</code> are specified; passed to the <code>nrow</code> argument of
<code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">ggplot2::facet_wrap()</a></code>. The default, <code>NULL</code>, results in a roughly square
grid of panels.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p><em>Show a progress bar?</em></p>
<p><em>default:</em> <code>TRUE</code> | <em>scope:</em> dynamic &amp; static</p>
<p>By default, a progress bar is shown to visualise the function's progress
creating individual polar markers. This option allows this to be turned
off, if desired.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code><a href="https://davidcarslaw.github.io/openair/reference/pollutionRose.html" class="external-link">openair::pollutionRose</a></code></p><dl><dt><code>key.footer</code></dt>
<dd><p>Adds additional text/labels below the scale key. See
<code>key.header</code> for further information.</p></dd>

    <dt><code>key.position</code></dt>
<dd><p>Location where the scale key is to plotted. Allowed
arguments currently include “top”, “right”, “bottom”
and “left”.</p></dd>

    <dt><code>paddle</code></dt>
<dd><p>Either <code>TRUE</code> or <code>FALSE</code>. If <code>TRUE</code> plots rose
using 'paddle' style spokes. If <code>FALSE</code> plots rose using 'wedge' style
spokes.</p></dd>

    <dt><code>seg</code></dt>
<dd><p>When <code>paddle = TRUE</code>, <code>seg</code> determines with width of the
segments. For example, <code>seg = 0.5</code> will produce segments 0.5 *
<code>angle</code>.</p></dd>

    <dt><code>normalise</code></dt>
<dd><p>If <code>TRUE</code> each wind direction segment is normalised to
equal one. This is useful for showing how the concentrations (or other
parameters) contribute to each wind sector when the proportion of time the
wind is from that direction is low. A line showing the probability that the
wind directions is from a particular wind sector is also shown.</p></dd>


</dl></dd>


<dt id="arg-control">control<a class="anchor" aria-label="anchor" href="#arg-control"></a></dt>
<dd><p><strong>Deprecated.</strong> Please use <code>type</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Either:</p><ul><li><p><em>Dynamic:</em> A leaflet object</p></li>
<li><p><em>Static:</em> A <code>ggplot2</code> object using <code><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">ggplot2::coord_sf()</a></code> coordinates with a <code>ggspatial</code> basemap</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="customisation-of-static-maps-using-ggplot-">Customisation of static maps using ggplot2<a class="anchor" aria-label="anchor" href="#customisation-of-static-maps-using-ggplot-"></a></h2>



<p>As the outputs of the static directional analysis functions are <code>ggplot2</code>
figures, further customisation is possible using functions such as
<code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">ggplot2::theme()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">ggplot2::guides()</a></code> and <code><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggplot2::labs()</a></code>.</p>
<p>If multiple pollutants are specified, subscripting (e.g., the "x" in "NOx")
is achieved using the <a href="https://wilkelab.org/ggtext/reference/ggtext.html" class="external-link">ggtext</a> package. Therefore if you
choose to override the plot theme, it is recommended to use
<code>[ggplot2::theme()]</code> and <code>[ggtext::element_markdown()]</code> to define the
<code>strip.text</code> parameter.</p>
<p>When arguments like <code>limits</code>, <code>percentile</code> or <code>breaks</code> are defined, a
legend is automatically added to the figure. Legends can be removed using
<code>ggplot2::theme(legend.position = "none")</code>, or further customised using
<code><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">ggplot2::guides()</a></code> and either <code>color = ggplot2::guide_colourbar()</code> for
continuous legends or <code>fill = ggplot2::guide_legend()</code> for discrete
legends.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://davidcarslaw.github.io/openair/reference/pollutionRose.html" class="external-link">openair::pollutionRose()</a></code></p>
<p>Other directional analysis maps:
<code><a href="annulusMap.html">annulusMap</a>()</code>,
<code><a href="diffMap.html">diffMap</a>()</code>,
<code><a href="freqMap.html">freqMap</a>()</code>,
<code><a href="percentileMap.html">percentileMap</a>()</code>,
<code><a href="polarMap.html">polarMap</a>()</code>,
<code><a href="windroseMap.html">windroseMap</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">pollroseMap</span><span class="op">(</span><span class="va">polar_data</span>,</span></span>
<span class="r-in"><span>  pollutant <span class="op">=</span> <span class="st">"nox"</span>,</span></span>
<span class="r-in"><span>  statistic <span class="op">=</span> <span class="st">"prop.count"</span>,</span></span>
<span class="r-in"><span>  provider <span class="op">=</span> <span class="st">"CartoDB.Voyager"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jack Davison, David Carslaw.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

